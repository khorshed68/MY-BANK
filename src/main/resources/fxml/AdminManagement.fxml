<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.mybank.controllers.AdminManagementController"
            stylesheets="@../css/style.css"
            styleClass="root">
    
    <top>
        <VBox styleClass="header" style="-fx-background-color: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
            <HBox alignment="CENTER_LEFT" spacing="16">
                <padding>
                    <Insets top="16" bottom="16" left="24" right="24"/>
                </padding>
                <Button text="â† Back" onAction="#handleBack" styleClass="secondary-button" 
                        style="-fx-background-color: white; -fx-text-fill: #667eea; -fx-font-weight: bold;"/>
                <Label text="ðŸ‘¤ ADMIN MANAGEMENT" styleClass="title" 
                       style="-fx-text-fill: white; -fx-font-size: 20px; -fx-font-weight: bold;">
                    <font>
                        <Font name="System Bold" size="20"/>
                    </font>
                </Label>
                <Label text="(Super Admin Only)" style="-fx-text-fill: #ffeb3b; -fx-font-weight: bold;">
                    <font>
                        <Font name="System Bold" size="11"/>
                    </font>
                </Label>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="ðŸ”„ Refresh" onAction="#handleRefresh" styleClass="secondary-button"
                        style="-fx-background-color: rgba(255,255,255,0.2); -fx-text-fill: white; -fx-font-weight: bold;"/>
            </HBox>
        </VBox>
    </top>
    
    <center>
        <VBox spacing="16" style="-fx-background-color: #f5f7fa;">
            <padding>
                <Insets top="24" bottom="24" left="24" right="24"/>
            </padding>
            
            <!-- Security Notice -->
            <HBox spacing="12" alignment="CENTER_LEFT" style="-fx-background-color: #fff3cd; -fx-padding: 12; -fx-background-radius: 6; -fx-border-color: #ffc107; -fx-border-width: 1; -fx-border-radius: 6;">
                <Label text="âš ï¸" style="-fx-font-size: 20px;"/>
                <VBox spacing="2">
                    <Label text="Security Notice" style="-fx-font-weight: bold; -fx-text-fill: #856404; -fx-font-size: 12px;"/>
                    <Label text="Only Super Admins can access this module â€¢ All actions are logged for security" 
                           style="-fx-text-fill: #856404; -fx-font-size: 10px;"/>
                </VBox>
            </HBox>
            
            <!-- Action Buttons -->
            <HBox spacing="12" alignment="CENTER_LEFT" style="-fx-background-color: white; -fx-padding: 16; -fx-background-radius: 8; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                <Button text="âž• Create Admin" onAction="#handleCreateAdmin" styleClass="primary-button"
                        style="-fx-background-color: linear-gradient(to bottom, #667eea, #764ba2); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 6; -fx-padding: 10 20;"/>
                <Button text="âœï¸ Update Admin" onAction="#handleUpdateAdmin" styleClass="secondary-button"
                        style="-fx-background-color: #3182ce; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 6; -fx-padding: 10 20;"/>
                <Button text="ðŸ—‘ï¸ Delete Admin" onAction="#handleDeleteAdmin" styleClass="danger-button"
                        style="-fx-background-color: #e53e3e; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 6; -fx-padding: 10 20;"/>
                <Button text="ðŸ”‘ Reset Password" onAction="#handleResetPassword" styleClass="warning-button"
                        style="-fx-background-color: #dd6b20; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 6; -fx-padding: 10 20;"/>
            </HBox>
            
            <!-- Admin Table -->
            <TableView fx:id="adminTable" VBox.vgrow="ALWAYS" 
                      style="-fx-background-color: white; -fx-background-radius: 8; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                <columns>
                    <TableColumn fx:id="idColumn" text="ID" prefWidth="60" style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="usernameColumn" text="Username" prefWidth="120"/>
                    <TableColumn fx:id="fullNameColumn" text="Full Name" prefWidth="200"/>
                    <TableColumn fx:id="emailColumn" text="Email" prefWidth="220"/>
                    <TableColumn fx:id="statusColumn" text="Status" prefWidth="100" style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="roleColumn" text="Role" prefWidth="120" style="-fx-alignment: CENTER;"/>
                </columns>
                <placeholder>
                    <VBox alignment="CENTER" spacing="8">
                        <Label text="ðŸ‘¥ No Admins" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #718096;"/>
                        <Label text="No administrators found in the system" style="-fx-font-size: 12px; -fx-text-fill: #a0aec0;"/>
                    </VBox>
                </placeholder>
            </TableView>
            
            <!-- Available Functions Info -->
            <HBox spacing="16" alignment="CENTER">
                <VBox alignment="CENTER" spacing="4" style="-fx-background-color: white; -fx-padding: 12; -fx-background-radius: 6; -fx-min-width: 220;">
                    <Label text="ðŸ“‹ Available Functions" style="-fx-font-weight: bold; -fx-font-size: 11px;"/>
                    <Label text="â€¢ Create new administrators" style="-fx-font-size: 9px; -fx-text-fill: #4a5568;"/>
                    <Label text="â€¢ Update admin details" style="-fx-font-size: 9px; -fx-text-fill: #4a5568;"/>
                    <Label text="â€¢ Delete admin accounts" style="-fx-font-size: 9px; -fx-text-fill: #4a5568;"/>
                    <Label text="â€¢ Reset admin passwords" style="-fx-font-size: 9px; -fx-text-fill: #4a5568;"/>
                    <Label text="â€¢ Grant super admin privileges" style="-fx-font-size: 9px; -fx-text-fill: #4a5568;"/>
                </VBox>
                
                <VBox alignment="CENTER" spacing="4" style="-fx-background-color: white; -fx-padding: 12; -fx-background-radius: 6; -fx-min-width: 220;">
                    <Label text="ðŸ’¡ Quick Tips" style="-fx-font-weight: bold; -fx-font-size: 11px;"/>
                    <Label text="â€¢ Select an admin to update/delete" style="-fx-font-size: 9px; -fx-text-fill: #4a5568;"/>
                    <Label text="â€¢ Cannot delete your own account" style="-fx-font-size: 9px; -fx-text-fill: #4a5568;"/>
                    <Label text="â€¢ Passwords must be 6+ characters" style="-fx-font-size: 9px; -fx-text-fill: #4a5568;"/>
                    <Label text="â€¢ All actions are audit logged" style="-fx-font-size: 9px; -fx-text-fill: #4a5568;"/>
                </VBox>
            </HBox>
        </VBox>
    </center>
</BorderPane>
